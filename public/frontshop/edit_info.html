<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <link rel="stylesheet" href="css/bootstrap.css">
    <link rel="stylesheet" href="css/public.css">
    <style>
        *{
            margin: 0;
            padding: 0;
            text-decoration: none!important;
        }
        main div.content{
            margin: 30px 0 30px 0;
        }
        tr td:first-child{
            width: 30%;
        }
        td img{
            width: 200px;
            height: 200px;
        }
    </style>
</head>
<body>
<header id="header"></header>
<main class="container" style="margin-top: 50px;margin-bottom: 50px">
    <form id="edit" class="form-horizontal">
        <div class="modal-body">
            <div class="form-group has-feedback">
                <label class="col-sm-3 control-label" for="zh2">用户名：</label>
                <div class="col-sm-9 require">
                    <input type="text" class="form-control" name="username" id="zh2"
                           pattern="\w{6,10}" required>
                </div>
            </div>
            <div class="form-group has-feedback">
                <label class="col-sm-3 control-label" for="lc">昵称：</label>
                <div class="col-sm-9 require">
                    <input type="text" pattern="\S{2,10}" class="form-control" name="nc" id="lc">
                </div>
            </div>
            <div class="form-group has-feedback">
                <label class="col-sm-3 control-label" for="phone">电话：</label>
                <div class="col-sm-9 require">
                    <input type="text" pattern="\S{11}" class="form-control" name="phone" id="phone">
                </div>
            </div>
            <div class="form-group has-feedback">
                <label class="col-sm-3 control-label" for="address">收货地址：</label>
                <div class="col-sm-9 require">
                    <input type="text"  class="form-control" name="address" id="address">
                </div>
            </div>
            <div class="form-group has-feedback">
                <label id="wanner" class="col-sm-4 control-label pull-left"></label>
            </div>
        </div>
        <div class="modal-footer">
            <button type="submit" class="btn btn-primary">提交</button>
            <button type="button" class="btn btn-default" data-dismiss="modal">关闭</button>
        </div>
    </form>
</main>
<footer id="footer"></footer>
<script src="js/jquery-2.1.3.js"></script>
<script src="js/bootstrap.min.js"></script>
<script>
    $('#header').load('header.html');
    $('#footer').load('footer.html');

    var HOST='http://localhost:3000/';

    $('#edit').submit(function (e) {
        e.preventDefault();
        var data=$('#edit').serialize();
        $.ajax({
            url : HOST+'users/edit_info',
            type : "post",
            data : data,
            xhrFields:{withCredentials:true},
            dataType:'json',
            success:function(res) {
                if(res===1)
                    alert('修改信息成功！');
                else
                    alert('修改信息失败！')
            },
            error:function(err){
                alert("这是失败的信息"+err);
            }
        });
    });
</script>
</body>
</html>